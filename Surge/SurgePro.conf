[General]
# > ğ¥ğšğ¨ğ¬ğ¡ğ®@ğ’ğ®ğ«ğ ğğğ«ğ¨ è‡ªç”¨é…ç½®
# > é…ç½®ä¸‹è½½ğ”ğ‘ğ‹ï¼š https://raw.githubusercontent.com/jnlaoshu/MySelf/master/Surge/SurgePro.conf
# > ğ”ğ©ğğšğ­ğ: 2024.06.05 16:40

# > æ—¥å¿—çº§åˆ«
loglevel = notify
show-error-page-for-reject = true
# > å…è®¸Wi-Fiè®¿é—®
allow-wifi-access = false
# > All Hybrid ç½‘ç»œå¹¶å‘
all-hybrid = false
# > IPv6 æ”¯æŒï¼ˆé»˜è®¤å…³é—­ï¼‰
ipv6 = false
# > æµ‹è¯•è¶…æ—¶ï¼ˆç§’ï¼‰
test-timeout = 5
# > Internet æµ‹è¯• URL
internet-test-url = http://www.baidu.com
# > ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://www.google.com/generate_204
# > GeoIPæ•°æ®åº“
geoip-maxmind-url = https://raw.gitmirror.com/soffchen/GeoIP2-CN/release/Country.mmdb
# > æ’é™¤ç®€å•ä¸»æœºå
exclude-simple-hostnames = true
# > DNS æœåŠ¡å™¨
dns-server = 223.5.5.5, 119.29.29.29
encrypted-dns-server = quic://dns.alidns.com
hijack-dns = 8.8.8.8:53, 8.8.4.4:53
# > ä» /etc/hosts è¯»å– DNS è®°å½•
read-etc-hosts = true
# > è¿œç¨‹æ§åˆ¶å™¨
http-api-web-dashboard = true
use-default-policy-if-wifi-not-primary = false
# > è·³è¿‡ä»£ç†
skip-proxy = 192.168.0.0/24, 10.0.0.0/8, 172.16.0.0/12, 127.0.0.1, localhost, *.local
# > Always Real IP
always-real-ip = *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com*.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.battlenet.com.cn, *.battlenet.com, *.blzstatic.cn, *.battle.net
# > Surge VIF
# tun-excluded-routes = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12
# tun-included-routes = 192.168.1.12/32
# > ç¦ç”¨ GEOIP è‡ªåŠ¨æ›´æ–°
disable-geoip-db-auto-update = true

[Replica]
# > éšè— Apple è¯·æ±‚
hide-apple-request = false
# > éšè—å´©æºƒè¿½è¸ªå™¨è¯·æ±‚
hide-crash-reporter-request = true
# > éšè— UDP ä¼šè¯
hide-udp = false
# > å…³é”®è¯è¿‡æ»¤å™¨
keyword-filter-type = false

[Proxy Group]
# > ç­–ç•¥ç»„
Naiyun = select, policy-path=http://sub.info?url=https%3A%2F%2Fwww.v2ny.one%2Fapi%2Fv1%2Fclient%2Fsubscribe%3Ftoken%3D137f3ae5248ac71fcb7c26ae4f7f33&alert=1&title=Naiyun, update-interval=3600, no-alert=0, hidden=0, include-all-proxies=0
Proxy = select, HongKong, United States, Singapore, Japan, TaiWan,Others, AllServer
Telegram = select, Proxy, HongKong, United States, Singapore, Japan, TaiWan,Others
Twitter = select, HongKong, United States, Singapore, Japan, TaiWan,Others
Google = select, HongKong, United States, Singapore, Japan, TaiWan,Others
YouTube = select, HongKong, United States, Singapore, Japan, TaiWan,Others
Global = select, Proxy, HongKong, United States, Singapore, Japan, TaiWan,Others

# > å¤–éƒ¨èŠ‚ç‚¹
HongKong = smart, include-other-group=AllServer, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0, policy-regex-filter=ğŸ‡­ğŸ‡°|æ¸¯|HK|Hong
TaiWan = smart, include-other-group=AllServer, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0, policy-regex-filter=ğŸ‡¹ğŸ‡¼|å°|TW|Tai
United States = smart, include-other-group=AllServer, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0, policy-regex-filter=ğŸ‡ºğŸ‡¸|ç¾|US|States|American
Japan = smart, include-other-group=AllServer, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0, policy-regex-filter=ğŸ‡¯ğŸ‡µ|æ—¥|JP|Japan
Singapore = smart, include-other-group=AllServer, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0, policy-regex-filter=ğŸ‡¸ğŸ‡¬|å¡|ç‹®åŸ|SG|Singapore
Others = select, include-other-group=AllServer, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0, policy-regex-filter=^((?!ğŸ‡­ğŸ‡°|æ¸¯|HK|Hong|ğŸ‡¹ğŸ‡¼|å°|TW|Tai|ğŸ‡¯ğŸ‡µ|æ—¥|JP|Japan|ğŸ‡¸ğŸ‡¬|å¡|ç‹®åŸ|SG|Singapore|ğŸ‡°ğŸ‡·|éŸ©|KR|KOR|Korea|ğŸ‡ºğŸ‡¸|ç¾|US|States|American|Music).)*$
AllServer = select, policy-path=https://sub.store/download/collection/AllServer?target=Surge, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0

[Rule]
# é˜²æ­¢åº”ç”¨å¾ªç¯è¯·æ±‚
IP-CIDR,0.0.0.0/32,REJECT,no-resolve
# > è§„åˆ™ä¿®æ­£
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Direct/Direct.list,DIRECT
# > Apple
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple_All_No_Resolve.list,DIRECT
# > Bing
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Bing/Bing.list,United States
# > ChatGPT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/OpenAI/OpenAI_Resolve.list,United States
# > Google
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google_Resolve.list,Google
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GoogleVoice/GoogleVoice.list,Google
# > Microsoft
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Microsoft/Microsoft.list,DIRECT
# > PayPal
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/PayPal/PayPal.list,â€United States
# > Spotify
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Spotify/Spotify_Resolve.list,United States
# > Telegram
# é˜»æ­¢Telegramé¢‘ç¹è¯·æ±‚
AND,((PROCESS-NAME,Telegram), (OR,((IP-CIDR,0.0.0.0/8), (IP-CIDR,224.0.0.0/4)))),REJECT
#RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Telegram/Telegram_Resolve.list,Telegram
RULE-SET,https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.Telegram.list,Telegram
# > Twitter
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Twitter/Twitter_Resolve.list,Twitter
# > WeChat
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/WeChat/WeChat_Resolve.list,DIRECT
# > YouTube
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,YouTube
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTubeMusic/YouTubeMusic.list,YouTube
# > Other
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaMedia/ChinaMedia.list,DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GlobalMedia/GlobalMedia_All_No_Resolve.list,Global
# > Proxy
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Proxy/Proxy_All_No_Resolve.list,Proxy
# > å±€åŸŸç½‘åœ°å€
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Lan/Lan.list,DIRECT
# > China ASN
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaASN/ChinaASN_Resolve.list,DIRECT
# > DNS æŸ¥è¯¢å¤±è´¥èµ° Final è§„åˆ™
FINAL,Proxy,dns-failed

[URL Rewrite]
# > Redirect Google Search Service
^https?:\/\/(www.)?(g|google)\.cn https://www.google.com 302
# > Redirect Google Maps Service
^https?:\/\/(ditu|maps).google\.cn https://maps.google.com 302

[Script]
Sub-Store Core = type=http-request,pattern=^https?:\/\/sub\.store\/((download)|api\/(preview|sync|(utils\/node-info))),script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/sub-store-1.min.js,requires-body=true,timeout=120,ability=http-client-policy,engine=auto
Sub-Store Simple = type=http-request,pattern=^https?:\/\/sub\.store,script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/sub-store-0.min.js,requires-body=true,timeout=120,engine=auto

æœºåœºä¿¡æ¯ = type=http-request,timeout=10,pattern=http://sub\.info,script-path=https://raw.githubusercontent.com/jnlaoshu/MySelf/master/Surge/Sub_info.js

# > ç­–ç•¥é¢æ¿
è¿è¡Œæ—¶é•¿ = type = generic,timeout=10,script-path=https://raw.githubusercontent.com/jnlaoshu/MySelf/master/Surge/StartTime.js
ç½‘ç»œä¿¡æ¯ = type = generic,timeout=10,script-path=https://raw.githubusercontent.com/jnlaoshu/MySelf/master/Surge/NetworkInfo.js

[Panel]
ç­–ç•¥é¢æ¿1 = script-name=è¿è¡Œæ—¶é•¿,title=è¿è¡Œæ—¶é•¿,content=è¯·åˆ·æ–°,update-interval=1
ç­–ç•¥é¢æ¿2 = script-name=ç½‘ç»œä¿¡æ¯,title=ç½‘ç»œä¿¡æ¯,content=è¯·åˆ·æ–°,style=info

[MITM]
# > è·³è¿‡æœåŠ¡ç«¯è¯ä¹¦éªŒè¯
skip-server-cert-verify = true
# > MITM ä½¿ç”¨ HTTP/2 åè®®
h2 = true

hostname = sub.store, testflight.apple.com,*.g.cn,*.google.cn, *.google.com.hk
