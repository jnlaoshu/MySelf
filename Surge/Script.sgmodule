#!name=ğ¥ğšğ¨ğ¬ğ¡ğ®@ğ’ğ®ğ«ğ ğğğ«ğ¨ ğ’ğœğ«ğ¢ğ©ğ­åˆé›†
#!desc=ğ”ğ©ğğšğ­ğ: 2022.04.29 15:30
#ğ‘¼ğ‘¹ğ‘³: https://raw.githubusercontent.com/jnlaoshu/MySelf/master/Surge/Script.sgmodule

[General]
force-http-engine-hosts = %APPEND% boxjs.net, boxjs.com

[Rule]
# > å¤©æ°”æ•°æ® æ—¥æœ¬
DOMAIN,api.waqi.info,ğŸ‡¯ğŸ‡µæ—¥æœ¬
# > Safari é˜²è·³è½¬
DOMAIN,app-site-association.cdn-apple.com,ğ‘¹ğ‘¬ğ‘±ğ‘¬ğ‘ªğ‘»

# å“”å“©å“”å“©  å»å¹¿å‘Š
URL-REGEX,https://app.bilibili.com/x/v2/(splash|search/(defaultword|square)),ğ‘¹ğ‘¬ğ‘±ğ‘¬ğ‘ªğ‘»
URL-REGEX,https://api.bilibili.com/x/v2/dm/ad,ğ‘¹ğ‘¬ğ‘±ğ‘¬ğ‘ªğ‘»
# > äº¬ä¸œ  å»å¯åŠ¨å¹¿å‘Šï¼Œå¿…é¡»æ˜¯REJECT-TINYGIF, å¦åˆ™æ¯”ä»·ä¼šå¤±æ•ˆ
URL-REGEX,^https?:\/\/api\.m\.jd\.com\/client\.action\?functionId=start$,ğ‘»ğ‘°ğ‘µğ’€ğ‘®ğ‘°ğ‘­
# > boxjsä»£ç†
DOMAIN,boxjs.com,ğğ«ğ¨ğ±ğ²
# > äº¬ä¸œåº“ä»£ç†
DOMAIN-SUFFIX,jdsharedresourcescdn.azureedge.net,ğğ«ğ¨ğ±ğ²
# > è…¾è®¯è§†é¢‘ ä¿®æŠ¤+å»å¹¿å‘Š
DOMAIN,vv.video.qq.com,ğ‘«ğ‘°ğ‘¹ğ‘¬ğ‘ªğ‘»
URL-REGEX,^https?:\/\/pgdt\.gtimg\.cn,ğ‘¹ğ‘¬ğ‘±ğ‘¬ğ‘ªğ‘»
URL-REGEX,^https?:\/\/c\.l\.qq\/.com,ğ‘¹ğ‘¬ğ‘±ğ‘¬ğ‘ªğ‘»
# > äº¤ç®¡12123 å»å¹¿å‘Š
URL-REGEX,^https:\/\/gab\.122\.gov\.cn\/eapp\/m\/sysquery\/adver$,ğ‘¹ğ‘¬ğ‘±ğ‘¬ğ‘ªğ‘»
# > äº¬ä¸œæé€Ÿç‰ˆ å»å¹¿å‘Š
URL-REGEX,https://api.m.jd.com/client.action\?functionId=lite_advertising,ğ‘¹ğ‘¬ğ‘±ğ‘¬ğ‘ªğ‘»
# > æ»´æ»´å‡ºè¡Œ å»å¹¿å‘Š
//01å®‰å…¨æç¤ºæ¨ªå¹…
URL-REGEX,^https:\/\/guard\.sec\.xiaojukeji\.com\/api\/guard\/psg\/v2\/getShieldStatus,ğ‘¹ğ‘¬ğ‘±ğ‘¬ğ‘ªğ‘»
//02åº•éƒ¨æ‰“è½¦&ä»£ä»·æ¨è
URL-REGEX,^https:\/\/conf\.diditaxi\.com\.cn\/one,ğ‘¹ğ‘¬ğ‘±ğ‘¬ğ‘ªğ‘»
//03ç¦åˆ©ä¸“åŒº-é‡‘èæœåŠ¡-å…¬äº¤-éª‘è½¦-æ»´æ»´ä¹å›­
URL-REGEX,^https:\/\/conf\.diditaxi\.com\.cn\/nav\/widget,ğ‘¹ğ‘¬ğ‘±ğ‘¬ğ‘ªğ‘»
//04æ¥é€æœº-ä¼˜æƒ å•†åŸ
URL-REGEX,^https:\/\/api\.udache\.com\/gulfstream,ğ‘¹ğ‘¬ğ‘±ğ‘¬ğ‘ªğ‘»
//05 ä¸»é¡µé¢†ä»»åŠ¡
URL-REGEX,^https:\/\/conf\.diditaxi\.com\.cn\/api\/(component|fusion|dynamicmodule|usercenter),ğ‘¹ğ‘¬ğ‘±ğ‘¬ğ‘ªğ‘»
URL-REGEX,^https:\/\/conf\.diditaxi\.com\.cn\/dynamic,ğ‘¹ğ‘¬ğ‘±ğ‘¬ğ‘ªğ‘»
//ä¸»é¡µ éä¸»æµå¼æ‚¬æµ®æŒ‚ä»¶
URL-REGEX,^https:\/\/res\.xiaojukeji\.com\/resapi\/activity\/mget,ğ‘¹ğ‘¬ğ‘±ğ‘¬ğ‘ªğ‘»
//07å•†åŸ
URL-REGEX,^https:\/\/shop-gw\.chengxinyouxuan\.com\/(route|indexConfig|apolloConfig|getShopTuanInfos),ğ‘¹ğ‘¬ğ‘±ğ‘¬ğ‘ªğ‘»
//08å¼€å±å¹¿å‘Š
URL-REGEX,^https:\/\/img-ys011\.didistatic\.com\/static,ğ‘¹ğ‘¬ğ‘±ğ‘¬ğ‘ªğ‘»
//09éª‘è¡Œ
URL-REGEX,^https:\/\/pt-starimg\.didistatic\.com\/static,ğ‘¹ğ‘¬ğ‘±ğ‘¬ğ‘ªğ‘»
# > äº‘é—ªä»˜ å»å¹¿å‘Š
URL-REGEX,^https:\/\/wallet\.95516\.com\/s\/wl\/icon\/long,ğ‘¹ğ‘¬ğ‘±ğ‘¬ğ‘ªğ‘»
# > æ‹¼å¤šå¤š å»å¹¿å‘Š
URL-REGEX,^https?:\/\/api\.(pinduoduo|yangkeduo)\.com\/api\/cappuccino\/splash,ğ‘¹ğ‘¬ğ‘±ğ‘¬ğ‘ªğ‘»

[URL Rewrite]
# > TikTokæ¢åŒº
(æ›´æ¢307å‰é¢JP JP=æ—¥æœ¬ KR=éŸ©å›½ HK=é¦™æ¸¯ US=ç¾å›½ï¼‰
(?<=&mcc_mnc=)4 2 307
(?<=_region=)CN(?=&) JP 307
(^https?:\/\/*\.\w{4}okv.com\/.+&.+)(\d{2}\.3\.\d)(.+) $118.0$3 302
^(https?:\/\/(tnc|dm)[\w-]+\.\w+\.com\/.+)(\?)(.+) $1$3 302

[Panel]
å¯åŠ¨æ—¶é•¿ = script-name=å¯åŠ¨æ—¶é•¿,update-interval=60
ä»£ç†åˆ‡æ¢ = script-name=ä»£ç†åˆ‡æ¢,update-interval=60

[Script]
# > ç­–ç•¥é¢æ¿
#å¯æ˜¾ç¤ºå¯åŠ¨æ—¶é•¿,ç‚¹å‡»åˆ·æ–°ä¸ºé‡è½½é…ç½®
å¯åŠ¨æ—¶é•¿ = type=generic,timeout=15,script-path=https://raw.githubusercontent.com/jnlaoshu/MySelf/master/Surge/StartTime.js,argument=icon=power.circle&color=#FF2121&title=ğ•Šğ•¦ğ•£ğ•˜ğ•–â„™ğ•£ğ• 
ä»£ç†åˆ‡æ¢ = type=generic,timeout=10,script-path=https://raw.githubusercontent.com/jnlaoshu/MySelf/master/Surge/Switch.js,argument=icon=network&color=#86abee&group=ğğ«ğ¨ğ±ğ²

# > æœºåœºä¿¡æ¯ 
æœºåœºä¿¡æ¯ = type=http-request,pattern=http://sub\.info,script-path=https://raw.githubusercontent.com/mieqq/mieqq/master/sub_info.js
# > Boxjsï¼ˆç¨³å®šç‰ˆï¼‰
ä¼šè¯æ•°æ® = type=http-request,pattern=^https?:\/\/boxjs\.com,script-path=https://raw.githubusercontent.com/chavyleung/scripts/master/chavy.box.js, requires-body=true, timeout=120

# > bilbii è‡ªåŠ¨æ ¹æ®ç•ªå‰§è‡ªåŠ¨åˆ‡æ¢åœ°åŒºã€è¯„åˆ†
å“”å“©æ¢åŒº = type=http-response,pattern=^https:\/\/ap(p|i)\.bili(bili|api)\.(com|net)\/(pgc\/view\/v\d\/app\/season|x\/v\d\/search\/defaultwords)\?access_key,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/Bili_Auto_Regions.js
å“”å“©æœç´¢ = type=http-request,pattern=^https:\/\/ap(p|i)\.bili(bili|api)\.(com|net)\/x\/v\d\/search(\/type)?\?.+?%20(%E6%B8%AF|%E5%8F%B0|%E4%B8%AD)&,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/Bili_Auto_Regions.js
# > bilbii å¤§ä¼šå‘˜ç”»è´¨
å“”å“©ç”»è´¨ = type=http-response,pattern=https:\/\/ap(p|i)\.bilibili\.com\/((pgc\/player\/api\/playurl)|(x\/v2\/account\/myinfo\?)|(x\/v2\/account/mine\?)),requires-body=true,script-path=https://github.com/Sunert/Script/raw/master/Script/Bilibili/BiliHD.js

# ä¸ªäººä¸­å¿ƒ
http-response https://app.bilibili.com/x/v2/account/mine\?access_key requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20bilibili%20account.js,tag=å“”å“©å“”å“©ä¸ªäººä¸­å¿ƒ(ç²¾ç®€)
http-response https://app.bilibili.com/x/v2/view\?access_key requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20bilibili%20view%20relate.js,tag=å“”å“©å“”å“©ä¸ªäººä¸­å¿ƒ(ç²¾ç®€)
http-response https://api.bilibili.com/x/v2/reply/main\?access_key requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20bilibili%20reply.js,tag=å“”å“©å“”å“©ä¸ªäººä¸­å¿ƒ(ç²¾ç®€)
http-response https://api.live.bilibili.com/xlive/app-room/v1/index/getInfoByRoom\?access_key requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20bilibili%20live.js,tag=å“”å“©å“”å“©ç›´æ’­

# > vsco è§£é”
æ»¤é•œç ´è§£ = type=http-response,pattern=^https:\/\/(api\.revenuecat\.com\/v\d\/subscribers|vsco\.co\/api\/subscriptions\/\d\.\d\/user-subscriptions)\/,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/githubdulong/Script/master/vsco.js,script-update-interval=0

# > MIX è§£é”
æ»¤é•œè§£é” = requires-body=1,script-path=https://raw.githubusercontent.com/githubdulong/Script/master/mix.js,type=http-response,pattern= ^https:\/\/bmall\.camera360\.com\/api\/mix\/recovery$
# > VSCO è§£é” vsco.co, api.revenuecat.com
#VSCO è§£é” = type=http-response,pattern=^https:\/\/(api\.revenuecat\.com\/v\d\/subscribers|vsco\.co\/api\/subscriptions\/\d\.\d\/user-subscriptions)\/,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/githubdulong/Script/master/vsco.js,script-update-interval=0
VSCO è§£é” = type=http-response ^https:\/\/api\.revenuecat\.com\/v\d\/subscribers\/\d+$  script-path=https://raw.githubusercontent.com/Tartarus2014/Script/master/vsco.js, requires-bpdy=true, tag=VSCO

# > ç™¾åº¦äº‘ç›˜ è§£é”
ç™¾åº¦äº‘ç›˜ = type=http-response,pattern=https:\/\/pan\.baidu\.com\/rest\/2\.0\/membership\/user,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/ddgksf2013/Cuttlefish/master/Crack/bdcloud.js,script-update-interval=0

# > äº¬ä¸œApp å†å²ä»·æ ¼ 
äº¬ä¸œå†å²ä»·æ ¼ = type=http-response,requires-body=1,pattern=^https?://api\.m\.jd\.com/client\.action\?functionId=(wareBusiness|serverConfig|basicConfig),script-path=https://raw.githubusercontent.com/githubdulong/Script/master/jd_price.js

# > é…·æˆ‘éŸ³ä¹VIP
é…·æˆ‘éŸ³ä¹VIP = type=http-response,pattern=^https?:\/\/vip1\.kuwo\.cn\/(vip\/v2\/user\/vip|vip\/spi/mservice),requires-body=1,max-size=0,timeout=60,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/Kuwo.js

# > ç©ºæ°”è´¨é‡ US
ç©ºæ°”è´¨é‡ = type=http-response, pattern=^https?:\/\/weather-data\.apple\.com\/(v1|v2)\/weather.*(?!dataSets=forecastNextHour)(include=.*air_quality.*|dataSets=.*airQuality.*).*(country=[A-Z]{2})?.*, requires-body=1, timeout=15, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Apple_Weather.js

# > ç¾å›¾ç§€ç§€
ç¾å›¾ç§€ç§€ = requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/githubdulong/Script/master/Mtxx.js,type=http-response,pattern=^https?://(api|h5).xiuxiu.meitu.com/(v1/user/show.json|v1/vip/vip_show.json|v1/vip/prompt/query.json|v1/h5/vip/sub_detail.json|v1/h5/user/self_show.json|v1/h5/vip/user_detail.json|v1/vip/prompt/query.json|v1/vip/prompt/query.json)

# > æ‰«æå…¨èƒ½ç‹ pro ap*.intsig.net
æ‰«æå…¨èƒ½ç‹Pro = requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/id77/QuantumultX/master/Script/camscanner.js,type=http-response,pattern=https:\/\/(api|api-cs)\.intsig\.net\/purchase\/cs\/query_property\?,script-update-interval=0

# > å°çº¢ä¹¦ å»å¹¿å‘Š
å°çº¢ä¹¦å¹¿å‘Š = type=http-response,pattern=^https?:\/\/edith\.xiaohongshu\.com\/api\/sns\/v2\/system_service\/splash_config,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/chouchoui/QuanX/master/Scripts/xiaohongshu/xiaohongshu.ad.js

# > æ–°æµªå¾®åš å»å¹¿å‘Š
å¾®åšå¹¿å‘Š = requires-body=1,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/wb_launch.js,type=http-response,pattern=^https?://(sdk|wb)app\.uve\.weibo\.com(/interface/sdk/sdkad.php|/wbapplua/wbpullad.lua)
å¾®åšå¹¿å‘Š = type=http-response,requires-body=1,max-size=-1,pattern=^https?://m?api\.weibo\.c(n|om)/2/(statuses/(unread|extend|positives/get|(friends|video)(/|_)(mix)?timeline)|stories/(video_stream|home_list)|(groups|fangle)/timeline|profile/statuses|comments/build_comments|photo/recommend_list|service/picfeed|searchall|cardlist|page|!/photos/pic_recommend_status|video/tiny_stream_video_list),script-path=https://raw.githubusercontent.com/yichahucha/surge/master/wb_ad.js
# > é€šç”¨è§£é”ï¼ˆè¯•ç”¨è®¢é˜…ï¼‰buy.itunes.apple.com
//é€šç”¨è§£é” = type=http-response,pattern=^https:\/\/buy\.itunes\.apple\.com\/verifyReceipt$,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/langkhach270389/Quantumult-X-LK/master/Scripts/langkhach/verify_receipt.js,script-update-interval=0

[MITM]
hostname =  %INSERT% -*.amemv.com, -*.snssdk.com,raw.githubusercontent.com,boxjs.com, vsco.co, api.revenuecat.com,pan.baidu.com,spclient.wg.spotify.com, ap?.bilibili.com, ap?.biliapi.net, api.live.bilibili.com, www.bilibili.com, btrace.qq.com, security.wechat.com, weixin110.qq.com, vip1.kuwo.cn,bmall.camera360.com, *.tiktokv.com,*.byteoversea.com,*.tik-tokapi.com,security.wechat.com, api.weibo.cn, mapi.weibo.com, *.uve.weibo.com,api.m.jd.com, gab.122.gov.cn, weather-data.apple.com, as.xiaojukeji.com, pt-starimg.didistatic.com, security.xiaojukeji.com, guard.sec.xiaojukeji.com, conf.diditaxi.com.cn, api.udache.com, res.xiaojukeji.com, img-ys011.didistatic.com, wallet.95516.com, pgdt.gtimg.cn, c.l.qq.com, api.pinduoduo.com, bkw-legacy.oss-cn-shenzhen.aliyuncs.com,ap*.intsig.net, edith.xiaohongshu.com, api.xiuxiu.meitu.com, h5.xiuxiu.meitu.com
